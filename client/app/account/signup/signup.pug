.container
  .row
    .col-sm-12
      h1 Sign up
    .col-md-12
      form.form(name='form', ng-submit='vm.register(form)', novalidate='')
        .col-md-6
          .row.form-group(ng-class='{ "has-success": form.username.$valid && vm.submitted,"has-error": form.username.$invalid && vm.submitted }')
            label.col-md-3 Username
            .col-md-9
              input.form-control(type='text', name='username', ng-model='vm.user.username', required='', mongoose-error='')
              p.help-block(ng-show='form.username.$error.required && vm.submitted')
                | A username is required
              p.help-block(ng-show='form.username.$error.mongoose')
                | {{ vm.errors.username }}
          .row.form-group(ng-show='vm.isView')
            label.col-md-3 Status
            div.col-md-9.dropdown(uib-dropdown)
              button#dropStatus.btn.btn-default.dropdown-toggle.col-md-5(type="button" uib-dropdown-toggle) {{vm.user.status || 'New' }}
                | &nbsp;
                span.caret
              ul.dropdown-menu(uib-dropdown-menu)
                li(ng-repeat="currStat in vm.status")
                  a(href="#" ng-click="vm.setStatus(currStat)") {{currStat}}

          .row.form-group(ng-class='{ "has-success": form.fullname.$valid && vm.submitted,\
                    "has-error": form.fullname.$invalid && vm.submitted }')
            label.col-md-3 Full Name
            .col-md-9
              input.form-control(type='text', name='fullname', ng-model='vm.user.fullname', required='')
              p.help-block(ng-show='form.fullname.$error.required && vm.submitted')
                | A full name is required

          .row.form-group(ng-class='{ "has-success": form.email.$valid && vm.submitted,\
          "has-error": form.email.$invalid && vm.submitted }')
            label.col-md-3 Email
            .col-md-9
              input.form-control(type='email', name='email', ng-model='vm.user.email', required='', mongoose-error='')
              p.help-block(ng-show='form.email.$error.email && vm.submitted')
                | Doesn't look like a valid email.
              p.help-block(ng-show='form.email.$error.required && vm.submitted')
                | What's your email address?
              p.help-block(ng-show='form.email.$error.mongoose')
                | {{ vm.errors.email }}

          .row.form-group(ng-class='{ "has-success": form.password.$valid && vm.submitted,\
          "has-error": form.password.$invalid && vm.submitted }' ng-show='!vm.isView')
            label.col-md-3 Password
            .col-md-9
              input.form-control(type='password'
              name='password'
              ng-model='vm.user.password'
              mongoose-error=''
              ng-minlength='6', required='')

              p.help-block(ng-show='(form.password.$error.minlength || form.password.$error.required) && vm.submitted')
                | Password must be at least 6 characters.
              p.help-block(ng-show='form.password.$error.mongoose')
                | {{ vm.errors.password }}

          .row.form-group(ng-class='{ "has-success": form.confirmPassword.$valid && vm.submitted,\
          "has-error": form.confirmPassword.$invalid && vm.submitted }' ng-show='!vm.isView')
            label.col-md-3 Confirm Password
            .col-md-9
              input.form-control(type='password'
              name='confirmPassword'
              ng-model='vm.user.confirmPassword'
              match="vm.user.password"
              ng-minlength='3', required='')
              p.help-block(ng-show='form.confirmPassword.$error.match && vm.submitted')
                | Passwords must match.
          .row.form-group
            label.col-md-3 Land Line
            .col-md-9
              input.form-control(type='text', name='landline', ng-model='vm.user.landline', required='')
          .row.form-group
            label.col-md-3 Cell Number
            .col-md-9
              input.form-control(type='text', name='cellnumber', ng-model='vm.user.cellnumber', required='')
              p.help-block(ng-show='form.cellnumber.$error.required && vm.submitted')
                | A cell number is required
          .row.form-group
            label.col-md-3 ID Number
            .col-md-9
              input.form-control(type='text', name='idnumber', ng-model='vm.user.idnumber')
          .row.form-group
            label.col-md-3 Passport Number
            .col-md-9
              input.form-control(type='text', name='passportnumber', ng-model='vm.user.passportnumber')
          .row.form-group
            label.col-md-3 SMS Number
            .col-md-9
              input.form-control(type='text', name='smsnumber', ng-model='vm.user.smsnumber')
          .row.form-group
            label.col-md-3 Tag Number
            .col-md-9
              input.form-control(type='text', name='tagnumber', ng-model='vm.user.tagnumber')
          .row.form-group
            label.col-md-3 Do you want to buy or sell
            div.col-md-9.dropdown(uib-dropdown)
              button#dropBuySell.btn.btn-default.dropdown-toggle.col-md-5(type="button" uib-dropdown-toggle) {{vm.user.buysell || 'Buy' }}
                | &nbsp;
                span.caret
              ul.dropdown-menu(uib-dropdown-menu)
                li(ng-repeat="buysell in vm.buysell")
                  a(href="#" ng-click="vm.setBuySell(buysell)") {{buysell}}

          .row.form-group
            label.col-md-3 Budget
            div.col-md-9.dropdown(uib-dropdown)
              button#dropBudget.btn.btn-default.dropdown-toggle.col-md-5(type="button" uib-dropdown-toggle) {{vm.user.budget || '3000-5000' }}
                | &nbsp;
                span.caret
              ul.dropdown-menu(uib-dropdown-menu)
                li(ng-repeat="budget in vm.budget")
                  a(href="#" ng-click="vm.setBudget(budget)") {{budget}}

        .col-md-6
          .row.form-group
            label.col-md-3 Farm Name
            .col-md-9
              input.form-control(type='text', name='farmname', ng-model='vm.user.farmname')
          .row.form-group
            label.col-md-3 Trading Name
            .col-md-9
              input.form-control(type='text', name='tradingname', ng-model='vm.user.tradingname')
          .row.form-group
            label.col-md-3 Billing Address
            .col-md-9
              input.form-control(type='text', name='billingaddress', ng-model='vm.user.billingaddress')
          .row.form-group
            label.col-md-3 Farm Address
            .col-md-9
              input.form-control(type='text', name='farmaddress', ng-model='vm.user.farmaddress')
          .row.form-group
            label.col-md-3 District
            .col-md-9
              input.form-control(type='text', name='district', ng-model='vm.user.district')
          .row.form-group
            label.col-md-3 Province
            .col-md-9
              input.form-control(type='text', name='province', ng-model='vm.user.province')
          .row.form-group
            label.col-md-3 Brand
            div.col-md-9.dropdown(uib-dropdown)
              button#dropLotType.btn.btn-default.dropdown-toggle.col-md-5(type="button" uib-dropdown-toggle) {{vm.user.brand || 'Yes' }}
                span.caret
              ul.dropdown-menu(uib-dropdown-menu)
                li
                  a(href="#" ng-click="vm.setBrand(true)") Yes
                li
                  a(href="#" ng-click="vm.setBrand(false)") No
          .row.form-group
            label.col-md-3 Brand Description
            .col-md-9
              textarea.form-control(type='text', name='branddesc', ng-model='vm.user.branddesc')
          .row.form-group
            label.col-md-3 Bank Name
            .col-md-9
              input.form-control(type='text', name='bankname', ng-model='vm.user.bankname')
          .row.form-group
            label.col-md-3 Bank Info
            .col-md-9
              input.form-control(type='text', name='bankinfo', ng-model='vm.user.bankinfo')
          .row.form-group
            label.col-md-3 Transport Info
            .col-md-9
              textarea.form-control(type='text', name='transportinfo', ng-model='vm.user.transportinfo')
        .col-md-12
          // Do checkboxes for type and class
          .row.form-group
            label.col-md-3 Livestock Type
            .col-md-9
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-checked='vm.user.livestocktype.cattle', ng-model='vm.user.livestocktype.cattle')
                | Cattle
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestocktype.sheep')
                | Sheep
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestocktype.goats')
                | Goats
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestocktype.pigs')
                | Pigs
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestocktype.wildlife')
                | Wildlife
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestocktype.machinery')
                | Machinery

          .row.form-group
            label.col-md-3 Livestock Class
            .col-md-9
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestockclass.breeding')
                | Breeding
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestockclass.feeding')
                | Feeding
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestockclass.slaughter')
                | Slaughter
              label.checkbox-inline
                input(type='checkbox', name='typecattle', ng-model='vm.user.livestockclass.youngstock')
                | Youngstock

          .row.form-group
            label.col-md-8.col-md-offset-2(ng-show='!vm.termsAccepted') GENERAL INFORMATION & CONDITIONS OF SALE
            label.col-md-8.col-md-offset-2(ng-show='!vm.termsAccepted')
              | All livestock are sold subject to seller’s reserve price and attract a  buyer’s commission of 6%. The livestock are for sale and placement in Zimbabwe.
              | All assessments done on behalf of a seller will incur a 1% assessment fee that will be deducted from their sale proceeds.
              | Generally if someone is selling we don’t want to leave behind an animal here or there so we prefer whole lots to be taken. However I understand that budgets are limited, and where we can share lots out to multiple buyers we will do. However any choice out of a particular lot will attract a 5% premium.
              | If you are the highest bidder and subject to the seller’s reserve being reached and the seller authorising the sale. You shall be notified and The lot shall be knocked down to you. Once knocked down it shall be totally binding on the buyer.
              | The proforma invoice is done once the lot has been knocked down as sold and is due immediately. It is based as follows: Bid price per kg  X Number of head X estimated avg kg or Bid price per head x number of head depending on how bidding was being accepted on the site. Plus 6% commission and 10% margin of error contingency.  Plus any transport if any required. Plus vet and police docs $15.00. Police docs and movement permits are carried out by the seller or RLMS under control of the Department of Veterinary Services under the Ministry of Agriculture and Zimbabwe Republic Police and subject to DVS& ZRP regulations for movement.
              | Your prepayment is done according to a proforma invoice based on the initial assessment of the cattle prior to them being featured on the website.
              | Livestock is authorised for despatch once prepayment has been received.
              | The final invoice is done on weighbridge weights during delivery and actual transport mileages. All livestock go over weighbridge unless stated otherwise  - for example in the case of Breeding bulls and  generally where there is a per head bid.
              | If the final invoice is lower than the prepayment  then a refund will be made within Zimbabwe within three working days. If the invoice is greater, then the shortfall is due from the buyer within the same time.
              | All livestock are sold Voetstoots – ie “as is”. All risk passes from the seller to buyer once the livestock have been loaded and have left the farm/sale point.
              | Generally bidding closes a day or two once the seller’s reserve has been reached or surpassed. If you are the highest bidder and the reserve has not been reached  the seller and the buyer will be notified and either the buyer will increase to meet the reserve or the seller reduce their reserve to meet the buyer or some middle ground in between. The outcome will be communicated to both buyer and seller and the website updated and the lot be knocked down as either sold or unsold.
              | In some cases as the buyer you may want to visit the livestock for inspection. That is fine provided that a) you organise ahead of time b) you provide transport to visit the livestock. c) be prepared to travel unaccompanied. d) prepare to be billed for time taken to travel and view the stock. At all times RLMS strives to present the animals in a way that the buyer can see as much as possible. Also RLMS prizes itself in the maintenance of utmost accuracy in its assessments and also in its advice to buyers.  However RLMS accepts no liability whatsoever for any statements, descriptions, or lack of adequate footage or pictures of the livestock on sale.
              | RLMS and its sellers will to the best of its ability arrange for the convenience of its buyers – logistics, livestock choice, permits amongst other things. However, no liability will be accepted for any errors and or  losses arising during the delivery, nor at  loading, and off loading.
              | By entering the site and bidding using the site, you agree to the above mentioned conditions.</div>
          .col-md-12
            div(ng-show='!vm.isView')
              .col-md-10.col-md-offset-2
                label.checkbox-inline
                  input(type='checkbox', name='typecattle', ng-model='vm.termsAccepted')
                  | I accept the terms and conditions

            div(ng-show='!vm.isView && vm.termsAccepted')
              .spacer10
              .col-md-10.col-md-offset-2
                button.btn.btn-inverse.btn-lg.btn-register(ng-click='form.$valid && register(form)')
                  | Sign up
                = ' '
                a.btn.btn-default.btn-lg.btn-login(ui-sref='login')
                  | Login

            div(ng-show='vm.isView && vm.isMe')
              button.btn.btn-inverse.btn-lg.btn-register(ng-click='vm.updateUser()')
                | Update
